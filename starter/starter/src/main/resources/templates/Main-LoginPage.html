<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Login</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(to right, #0b1c4f, #859398);
            color: #0d1c51;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            display: flex;
            max-width: 1200px;
            width: 100%;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .left-section {
            flex: 1;
            padding: 40px;
            background: #f4f7fc;
        }

        .left-section img {
            max-width: 200px;
            margin-bottom: 20px;
        }

        .left-section h1 {
            font-size: 28px;
            margin-bottom: 20px;
        }

        .left-section ul {
            list-style: none;
            padding: 0;
        }

        .left-section ul li {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .left-section ul li::before {
            content: "‚úî";
            color: #00cc66;
            margin-right: 10px;
        }

        .right-section {
            flex: 1;
            padding: 40px;
        }

        .right-section h2 {
            font-size: 24px;
            margin-bottom: 20px;
            text-align: center;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }

        .checkbox-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .btn {
            width: 100%;
            padding: 10px;
            background: #00cc66;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }

        .btn:hover {
            background: #00994c;
        }

        .social-login {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }

        .social-login a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #f4f7fc;
            text-decoration: none;
            color: #333;
            font-size: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .social-login a:hover {
            background: #e0e4eb;
        }

        /* transparent*/
        .container {
            display: flex;
            max-width: 900px;
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            /* Semi-transparent white */
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
        }

        .form-section {
            width: 50%;
            padding: 40px;
            background: rgba(255, 255, 255, 0.10);
            /* Ensures transparency matches container */
            border-radius: 0 8px 8px 0;
        }
    </style>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: url('signin.jpg.jpg') no-repeat center center fixed;
            background-size: cover;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
    </style>
    <style>
        .left-section {
            flex: 1;
            padding: 40px;
            background: #0b2268;
            /* Blue background */
            color: #ffffff;
            /* White text color for better contrast */
        }

        .left-section h1,
        .left-section ul,
        .left-section ul li {
            color: #ffffff;
            /* Ensure all text in the left section is white */
        }
    </style>

</head>

<body>
    <div class="container">
        <!-- Left Section -->
        <div class="left-section">
            <img src="/imgs/909.png" alt="Your Logo">
            <h1>Why choose Event Bookings?</h1>
            <ul>
                <li>Simple, easy-to-use platform</li>
                <li>Lowest ticketing fees</li>
                <li>Dedicated customer support</li>
                <li>Powerful features</li>
            </ul>
        </div>

        <!-- Right Section -->
        <!-- Right Section -->
        <div class="right-section">
            <h2>Log In</h2>
            <div class="input-group">
                <input type="email" id="email" placeholder="Email address">
            </div>
            <!-- Replace your password input-group div with this -->
            <div class="input-group" style="position: relative;">
                <input type="password" id="password" placeholder="Password">
                <span id="togglePassword" style="
            position: absolute; 
            right: -10px; 
            top: 50%; 
            transform: translateY(-50%);
            cursor: pointer; 
            user-select: none;
            font-size: 18px;
            color: #666;
          ">üëÅÔ∏è</span>
            </div>

            <script>
                const togglePassword = document.getElementById('togglePassword');
                const passwordInput = document.getElementById('password');

                togglePassword.addEventListener('click', function () {
                    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                    passwordInput.setAttribute('type', type);
                    // Change icon depending on state
                    this.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üôà';
                });
            </script>

            <div class="checkbox-group">
                <label>
                    <input type="checkbox" id="remember"> Remember me
                </label>
                <a href="#">Forgot password?</a>
            </div>
            <button class="btn" onclick="validateForm()">Log In</button>

            <!-- Divider -->
            <div style="display: flex; align-items: center; margin: 20px 0;">
                <hr style="flex: 1; border: none; border-top: 1px solid #ccc;">
                <span style="margin: 0 10px; color: #101010;">Or, Sign in with</span>
                <hr style="flex: 1; border: none; border-top: 1px solid #ccc;">
            </div>

            <!-- Social Login Options -->
            <div class="social-login" style="display: flex; justify-content: center; gap: 20px; margin-bottom: 20px;">
                <a href="#" title="Login with Google" style="text-decoration: none;">
                    <img src="/imgs/googlelogo1.png" alt="Google" style="width: 30px; height: 30px; object-fit: contain;">
                </a>
                <a href="#" title="Login with Facebook" style="text-decoration: none;">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/1/1b/Facebook_icon.svg" alt="Facebook"
                        style="width: 30px; height: 30px; object-fit: contain;">
                </a>
                <a href="#" title="Login with LinkedIn" style="text-decoration: none;">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/c/ca/LinkedIn_logo_initials.png"
                        alt="LinkedIn" style="width: 30px; height: 30px; object-fit: contain;">
                </a>
            </div>


            <!-- New Here? Sign Up -->
            <div style="margin-top: 20px; text-align: center;">
                <span style="color: #020202;">New here? </span>
                <a href="/signup" style="color: #007bff; text-decoration: none;">Sign up</a>
            </div>
        </div>


        <script>
            function validateForm() {
                const email = document.getElementById('email').value;
                const password = document.getElementById('password').value;

                if (!email) {
                    alert('Please enter your email address');
                    return;
                }
                if (!password) {
                    alert('Please enter your password');
                    return;
                }
                fetch('http://localhost:8080/main/verifyLogin', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                })
                    .then(async response => {
                        if (!response.ok) {
                            const errorText = await response.text();
                            throw new Error(`Request failed. Status: ${response.status}, Body: ${errorText}`);
                        }
                        return response.json();
                    })
                    .then(user => {
                        // Redirect to the home page with the user's first name
                        window.location.href = `/getDash`;
                    })
                    .catch(error => {
                        console.error("Detailed Error:", error.message);
                        alert("Login failed: " + error.message);
                    });

            }
        </script>
</body>

</html>